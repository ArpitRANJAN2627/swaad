{"ast":null,"code":"var _jsxFileName = \"/Users/arpit-mac/Desktop/Web Devlopment/FoodApp/frontend/src/store/CartContextProvider.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useEffect, useState } from 'react';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\nexport const CartContextProvider = props => {\n  _s();\n  let str = props.cartname;\n  // let msgg=\"mm\";\n\n  const intialCart = JSON.parse(window.localStorage.getItem(str) || '[]');\n  const [cart, setCart] = useState(intialCart);\n  // const intialMsg = JSON.parse(window.localStorage.getItem(msgg) || '[]');\n  const [msg, setmsg] = useState(\"\");\n  const addToCart = item => {\n    console.log(item);\n    const isPresent = cart.some(food => food.id === item.id);\n    if (isPresent) {\n      const c = cart.map(food => food.id === item.id && food.qty + item.qty > 0 ? {\n        ...food,\n        qty: food.qty + item.qty\n      } : food);\n      console.log(c);\n      setCart(c);\n    } else {\n      setCart(prevState => {\n        return [...prevState, item];\n      });\n    }\n  };\n  const clearCart = () => {\n    setCart(() => []);\n  };\n  const deleteItem = id => {\n    setCart(() => {\n      return cart.filter(food => food.id !== id);\n    });\n  };\n  const setMsgg = m => {\n    let newmsg = m;\n    setmsg(newmsg);\n  };\n  const context = {\n    msg: msg,\n    cart: cart,\n    cartLength: cart.length,\n    addToCart: addToCart,\n    clearCart: clearCart,\n    deleteItem: deleteItem,\n    setMsgg: setMsgg\n  };\n  useEffect(() => {\n    window.localStorage.setItem(str, JSON.stringify(cart));\n    //   window.localStorage.setItem(str,JSON.stringify(msg));\n  }, [cart, msg]);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: context,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n};\n_s(CartContextProvider, \"N1t77S65h9ZO8ov3nAujLfnY1yw=\");\n_c = CartContextProvider;\nexport default CartContext;\nvar _c;\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"names":["React","createContext","useEffect","useState","useAuth0","jsxDEV","_jsxDEV","CartContext","CartContextProvider","props","_s","str","cartname","intialCart","JSON","parse","window","localStorage","getItem","cart","setCart","msg","setmsg","addToCart","item","console","log","isPresent","some","food","id","c","map","qty","prevState","clearCart","deleteItem","filter","setMsgg","m","newmsg","context","cartLength","length","setItem","stringify","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/arpit-mac/Desktop/Web Devlopment/FoodApp/frontend/src/store/CartContextProvider.js"],"sourcesContent":["import React, { createContext,useEffect,useState } from 'react';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nconst CartContext = createContext()\n\nexport const CartContextProvider = (props) => {\n\n   \n    \n\n\n    let str=props.cartname;\n    // let msgg=\"mm\";\n   \n       \n  \n    const intialCart = JSON.parse(window.localStorage.getItem(str) || '[]');\n    const [cart, setCart] = useState(intialCart);\n   // const intialMsg = JSON.parse(window.localStorage.getItem(msgg) || '[]');\n    const [msg,setmsg]=useState(\"\");\n\n    const addToCart = (item) => {\n        console.log(item)\n      \n\n        const isPresent = cart.some((food) => food.id === item.id);\n\n        if (isPresent) {\n          \n            const c=cart.map((food) => (food.id === item.id &&(food.qty+item.qty)>0)? { ...food, qty: food.qty + item.qty } : food);\n            \n             \n            console.log(c)\n            setCart(c)  \n           \n        } else {\n            setCart((prevState) => {\n                return [...prevState, item];\n\n            })\n            \n        }\n       \n    }\n\n    const clearCart = () => {\n        setCart(() => []);\n    }\n    const deleteItem=(id)=>{\n        setCart(() => {\n            return cart.filter((food) => food.id !== id );\n        })\n    }\n    const setMsgg= (m)=>{\n        let newmsg=m;\n        setmsg(newmsg)\n       \n    }\n\n    const context = {\n        msg:msg,\n        cart: cart,\n        cartLength: cart.length,\n        addToCart: addToCart,\n        clearCart:clearCart,\n        deleteItem:deleteItem,\n        setMsgg:setMsgg\n    }\n\n    useEffect(() => {\n        window.localStorage.setItem(str,JSON.stringify(cart));\n     //   window.localStorage.setItem(str,JSON.stringify(msg));\n    }, [cart,msg]);\n\n    return (\n        \n        <CartContext.Provider value={context}>\n            {props.children}\n      </CartContext.Provider>\n    \n    )\n}\n\nexport default CartContext;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}