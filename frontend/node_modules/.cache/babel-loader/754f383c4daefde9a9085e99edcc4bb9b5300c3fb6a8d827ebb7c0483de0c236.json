{"ast":null,"code":"var _jsxFileName = \"/Users/arpit-mac/Desktop/Web Devlopment/Practice/FoodApp/frontend/src/store/CartContextProvider.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useEffect, useState } from 'react';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext({\n  cart: [],\n  cartLength: 0,\n  addToCart: () => {},\n  clearCart: () => {}\n});\nexport const CartContextProvider = props => {\n  _s();\n  const {\n    user,\n    isAuthenticated,\n    isLoading\n  } = useAuth0();\n  const [cartname, setName] = useState('cart');\n  if (isAuthenticated) {\n    let str = cartname + user.name;\n    setName(str);\n  }\n  const intialCart = JSON.parse(window.localStorage.getItem(cartname) || '[]');\n  const [cart, setCart] = useState(intialCart);\n  const addToCart = item => {\n    const isPresent = cart.some(food => food.id === item.id);\n    if (isPresent) {\n      setCart(() => {\n        return cart.map(food => food.id === item.id ? {\n          ...food,\n          qty: food.qty + 1\n        } : food);\n      });\n    } else {\n      setCart(prevState => {\n        return [...prevState, item];\n      });\n    }\n  };\n  const clearCart = () => {\n    setCart(() => []);\n  };\n  const context = {\n    cart: cart,\n    cartLength: cart.length,\n    addToCart: addToCart,\n    clearCart: clearCart\n  };\n  useEffect(() => {\n    window.localStorage.setItem(cartname, JSON.stringify(cart));\n  }, [cart]);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: context,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(CartContextProvider, \"jU+6vTcCxvDcRLBQa5kG4O4y8mQ=\", false, function () {\n  return [useAuth0];\n});\n_c = CartContextProvider;\nexport default CartContext;\nvar _c;\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"names":["React","createContext","useEffect","useState","useAuth0","jsxDEV","_jsxDEV","CartContext","cart","cartLength","addToCart","clearCart","CartContextProvider","props","_s","user","isAuthenticated","isLoading","cartname","setName","str","name","intialCart","JSON","parse","window","localStorage","getItem","setCart","item","isPresent","some","food","id","map","qty","prevState","context","length","setItem","stringify","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/arpit-mac/Desktop/Web Devlopment/Practice/FoodApp/frontend/src/store/CartContextProvider.js"],"sourcesContent":["import React, { createContext,useEffect,useState } from 'react';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nconst CartContext = createContext({\n    cart: [],\n    cartLength: 0,\n    addToCart: () => { },\n    clearCart:()=>{}\n})\n\nexport const CartContextProvider = (props) => {\n\n    const { user, isAuthenticated, isLoading } = useAuth0();\n    const [cartname,setName]=useState('cart');\n    if(isAuthenticated){\n        let str=cartname+user.name;\n        setName(str)\n    }\n    const intialCart = JSON.parse(window.localStorage.getItem(cartname) || '[]');\n    const [cart, setCart] = useState(intialCart);\n\n    const addToCart = (item) => {\n\n        const isPresent = cart.some((food) => food.id === item.id);\n\n        if (isPresent) {\n            setCart(() => {\n                return cart.map((food) => food.id === item.id ? { ...food, qty: food.qty + 1 } : food);\n            })   \n        } else {\n            setCart((prevState) => {\n                return [...prevState, item];\n            })\n        }\n    }\n\n    const clearCart = () => {\n        setCart(() => []);\n    }\n\n    const context = {\n        cart: cart,\n        cartLength: cart.length,\n        addToCart: addToCart,\n        clearCart:clearCart\n    }\n\n    useEffect(() => {\n        window.localStorage.setItem(cartname,JSON.stringify(cart));\n    }, [cart]);\n\n    return (\n        \n        <CartContext.Provider value={context}>\n            {props.children}\n      </CartContext.Provider>\n    \n    )\n}\n\nexport default CartContext;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAACC,SAAS,EAACC,QAAQ,QAAQ,OAAO;AAC/D,SAASC,QAAQ,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC9C,MAAMC,WAAW,gBAAGN,aAAa,CAAC;EAC9BO,IAAI,EAAE,EAAE;EACRC,UAAU,EAAE,CAAC;EACbC,SAAS,EAAEA,CAAA,KAAM,CAAE,CAAC;EACpBC,SAAS,EAACA,CAAA,KAAI,CAAC;AACnB,CAAC,CAAC;AAEF,OAAO,MAAMC,mBAAmB,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAE1C,MAAM;IAAEC,IAAI;IAAEC,eAAe;IAAEC;EAAU,CAAC,GAAGb,QAAQ,CAAC,CAAC;EACvD,MAAM,CAACc,QAAQ,EAACC,OAAO,CAAC,GAAChB,QAAQ,CAAC,MAAM,CAAC;EACzC,IAAGa,eAAe,EAAC;IACf,IAAII,GAAG,GAACF,QAAQ,GAACH,IAAI,CAACM,IAAI;IAC1BF,OAAO,CAACC,GAAG,CAAC;EAChB;EACA,MAAME,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACC,MAAM,CAACC,YAAY,CAACC,OAAO,CAACT,QAAQ,CAAC,IAAI,IAAI,CAAC;EAC5E,MAAM,CAACV,IAAI,EAAEoB,OAAO,CAAC,GAAGzB,QAAQ,CAACmB,UAAU,CAAC;EAE5C,MAAMZ,SAAS,GAAImB,IAAI,IAAK;IAExB,MAAMC,SAAS,GAAGtB,IAAI,CAACuB,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,CAAC;IAE1D,IAAIH,SAAS,EAAE;MACXF,OAAO,CAAC,MAAM;QACV,OAAOpB,IAAI,CAAC0B,GAAG,CAAEF,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,GAAG;UAAE,GAAGD,IAAI;UAAEG,GAAG,EAAEH,IAAI,CAACG,GAAG,GAAG;QAAE,CAAC,GAAGH,IAAI,CAAC;MAC1F,CAAC,CAAC;IACN,CAAC,MAAM;MACHJ,OAAO,CAAEQ,SAAS,IAAK;QACnB,OAAO,CAAC,GAAGA,SAAS,EAAEP,IAAI,CAAC;MAC/B,CAAC,CAAC;IACN;EACJ,CAAC;EAED,MAAMlB,SAAS,GAAGA,CAAA,KAAM;IACpBiB,OAAO,CAAC,MAAM,EAAE,CAAC;EACrB,CAAC;EAED,MAAMS,OAAO,GAAG;IACZ7B,IAAI,EAAEA,IAAI;IACVC,UAAU,EAAED,IAAI,CAAC8B,MAAM;IACvB5B,SAAS,EAAEA,SAAS;IACpBC,SAAS,EAACA;EACd,CAAC;EAEDT,SAAS,CAAC,MAAM;IACZuB,MAAM,CAACC,YAAY,CAACa,OAAO,CAACrB,QAAQ,EAACK,IAAI,CAACiB,SAAS,CAAChC,IAAI,CAAC,CAAC;EAC9D,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEV,oBAEIF,OAAA,CAACC,WAAW,CAACkC,QAAQ;IAACC,KAAK,EAAEL,OAAQ;IAAAM,QAAA,EAChC9B,KAAK,CAAC8B;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAG7B,CAAC;AAAAjC,EAAA,CAhDYF,mBAAmB;EAAA,QAEiBR,QAAQ;AAAA;AAAA4C,EAAA,GAF5CpC,mBAAmB;AAkDhC,eAAeL,WAAW;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}